<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="two">
	
	<typeAlias alias="MembersModel" type="members.MembersModel"/>
	<resultMap class="MembersModel" id="membersRes">
		<result property="m_email" column="m_email"/>
		<result property="m_name" column="m_name"/>
		<result property="m_nickname" column="m_nickname"/>
		<result property="m_password" column="m_password"/>
		<result property="m_phone" column="m_phone"/>
		<result property="m_fav_area" column="m_fav_area"/>
		<result property="m_fav_field" column="m_fav_field"/>
		<result property="m_date" column="m_date"/>
	</resultMap>
	
	<sql id="ad-select-all">
		select * from members
	</sql>
	
	<sql id="ad-where-no">
		where m_email=#m_email#
	</sql>
	
	<select id="two.login" parameterClass="MembersModel" resultMap="membersRes">
		SELECT m_email, m_password FROM MEMBERS
		<include refid="ad-where-no"/>
		AND m_password = #m_password#
	</select>
	
	<insert id="two.insertMember" parameterClass="MembersModel">
		INSERT INTO MEMBERS(m_email,m_name,m_nickname,m_password,m_phone,m_fav_area,m_fav_field,m_date)
		VALUES(#m_email#,#m_name#,#m_nickname#,#m_password#,#m_phone#,#m_fav_area#,#m_fav_field#,#m_date#)
	</insert>
	
	
	
</sqlMap>